<div class="profile-card" *ngIf="profile; else noProfile">
  <h2 class="title">ğŸ‘¤ Profil Saya</h2>

  
  <div *ngIf="!editMode; else editForm">
    <div class="profile-info">
      <p><strong>ğŸ†” Username:</strong> {{ profile.username }}</p>
      <p><strong>ğŸ“› Full Name:</strong> {{ profile.fullName }}</p>
      <p><strong>ğŸ“§ Email:</strong> {{ profile.email }}</p>
      <p><strong>ğŸ“ Bio:</strong> {{ profile.bio || '-' }}</p>
      <p><strong>ğŸ‚ Date of Birth:</strong> {{ profile.dateOfBirth | date:'longDate' || '-' }}</p>
      <p><strong>ğŸ‘€ Visit Count:</strong> {{ profile.visitCount || 0 }}</p>
      <p><strong>â±ï¸ Total Visit Duration:</strong> {{ profile.totalVisitDuration || 0 }} detik</p>
    </div>

    <button class="btn edit-btn" (click)="toggleEdit()">âœï¸ Ubah Profil</button>
  </div>

  <ng-template #editForm>
    <form class="edit-form" (ngSubmit)="saveProfile()">
      <label>
        Username:
        <input type="text" [(ngModel)]="editedProfile.username" name="username" />
      </label>

      <label>
        Full Name:
        <input type="text" [(ngModel)]="editedProfile.fullName" name="fullName" />
      </label>

      <label>
        Bio:
        <textarea rows="3" [(ngModel)]="editedProfile.bio" name="bio"></textarea>
      </label>

      <label>
        Date of Birth:
        <input type="date" [(ngModel)]="editedProfile.dateOfBirth" name="dateOfBirth" />
      </label>

      <div class="button-group">
        <button class="btn save-btn" type="submit" [disabled]="loading">ğŸ’¾ Simpan</button>
        <button class="btn cancel-btn" type="button" (click)="toggleEdit()" [disabled]="loading">âŒ Batal</button>
      </div>
    </form>
  </ng-template>

  <p class="error" *ngIf="errorMessage">âš ï¸ {{ errorMessage }}</p>
  <p class="success" *ngIf="successMessage">âœ… {{ successMessage }}</p>
</div>

<ng-template #noProfile>
  <p>âš ï¸ Profil belum tersedia.</p>
</ng-template>
